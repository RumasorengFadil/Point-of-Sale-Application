import{j as e,a as k,W as w,Y as C}from"./app-C-joiN0h.js";import{B as P}from"./NavigationMenu-Cwx6SqEp.js";import{b as F}from"./react-D-qSX0RO.js";import{A as I}from"./AuthenticatedLayout-DVvVS8ze.js";import{T as c}from"./TextInput-D3gX07WD.js";import{I as o}from"./InputLabel-fy80x9Y3.js";import{I as l}from"./InputError-DNrV35xv.js";import{a as S}from"./index-DRbWQ4rk.js";import{P as T}from"./PrimaryButton-DK0DvLAA.js";import{t as g}from"./toastUtils-B8WJ81wp.js";import{u as B,F as L}from"./useImagePreview-DW6u4Uzv.js";import{t as M}from"./toTitleCase-Br9ZpEl_.js";import{f as A}from"./formatNumberWithDots-Do-x_jmg.js";import{c as D}from"./convertToNumber-C9xeMRjC.js";import{S as E}from"./SpinnerWithLabel-D3jPNkU_.js";import{w as J}from"./WithLoading-RkSNpiY4.js";import"./UserAvatarOrganism-D-R_502I.js";import"./index-BsClmWQr.js";import"./iconBase-MUeGlrr-.js";import"./index-DspvSDeF.js";import"./ApplicationLogo-Df-Y5rWR.js";import"./react-toastify.esm-Itkk7XMo.js";function W({data:d,className:p,...x}){return e.jsx("div",{className:"flex gap-3 items-start w-full text-xs | lg:text-base |",children:d.map((r,u)=>e.jsxs(k,{href:route(r.name),className:`flex flex-col justify-center items-center gap-4 h-28 rounded flex-1 px-3 py-4 ${route().current(r.name)?"text-white bg-primary":"bg-white text-primary"}`,children:[e.jsx("div",{children:r.icon}),e.jsx("div",{className:`flex flex-col space-y-1 ${route().current(r.name)?"text-white":"text-gray-950"}`,children:r.label})]},u))})}function ie({auth:d,categories:p}){const{imagePreview:x,handleFileChange:r,setImagePreview:u}=B(),h=J({SpinnerWithLabel:E})(L),{post:f,data:i,setData:m,errors:t,reset:j,processing:b}=w({name:"",categoryId:"",price:"",discount:0,stock:0,image:""}),n=a=>{m(s=>({...s,[a.target.name]:a.target.value}))},y=a=>{a.target.value===""&&m("price","");const s=D(a.target.value);s.toString().length>8||s&&m(N=>({...N,[a.target.name]:s}))},v=a=>{a.preventDefault(),f(route("product.store"),{onSuccess:s=>{g.showSuccess(s.props.flash),u(""),j()},onError:s=>{g.showError(s)}})};return e.jsxs(I,{user:d.user,children:[e.jsx(C,{title:"Tambah Produk"}),e.jsxs("div",{className:"flex flex-col overflow-y-auto overflow-x-hidden space-y-8 flex-1 px-4 max-h-screen",children:[e.jsx("div",{className:"flex justify-between font-bold items-center h-max w-full pt-8",children:e.jsx("h1",{children:"Invetaris"})}),e.jsx(W,{data:[{name:"product.index",icon:e.jsx(P,{size:20}),label:"Produk"},{name:"product.create",icon:e.jsx(F,{size:24}),label:"Tambah Produk"}]}),e.jsxs("div",{className:"flex flex-col w-full h-full overflow-y-auto space-y-5 px-4 py-6 my-8 rounded shadow-lg bg-white",children:[e.jsxs("p",{className:"",children:[e.jsx("span",{className:"font-bold",children:"Tambah"})," Produk"]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(o,{htmlFor:"name",value:"Nama Produk*"}),e.jsx(c,{id:"name",type:"text",name:"name",value:i.name,className:"block w-full text-xs p-3 bg-gray-100",autoComplete:"name",placeholder:"Masukan Nama Produk",isFocused:!0,onChange:n}),e.jsx(l,{message:t.name,className:""})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(o,{htmlFor:"category",value:"Kategori*"}),e.jsxs("select",{id:"categoryId",name:"categoryId",value:i.categoryId,className:"border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm block w-80 text-xs p-3 bg-gray-100",type:"text",onChange:n,children:[e.jsx("option",{className:"text-xs",value:"",children:"Pilih"}),p.map((a,s)=>e.jsx("option",{className:"text-xs",value:a.id,children:M(a.category_name)},s))]}),e.jsx(l,{message:t.categoryId,className:""})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(o,{htmlFor:"price",value:"Harga Jual (Rp)*"}),e.jsx(c,{id:"price",type:"text",name:"price",value:A(i.price),className:"block w-full text-xs p-3 bg-gray-100",autoComplete:"price",placeholder:"Masukan Harga Jual",onChange:y}),e.jsx(l,{message:t.price,className:""})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(o,{htmlFor:"discount",value:"Diskon (%)*"}),e.jsx(c,{id:"discount",type:"number",name:"discount",value:i.discount,className:"block w-full text-xs p-3 bg-gray-100",autoComplete:"discount",placeholder:"Masukan Jumlah Diskon",onChange:n}),e.jsx(l,{message:t.discount,className:""})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(o,{htmlFor:"stock",value:"Stok Produk*"}),e.jsx(c,{id:"stock",type:"number",name:"stock",value:i.stock,className:"block w-full text-xs p-3 bg-gray-100",autoComplete:"stock",placeholder:"Masukan Jumlah Stok",onChange:n}),e.jsx(l,{message:t.stock,className:""})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(o,{htmlFor:"image",value:"Foto Barang"}),e.jsxs("div",{className:"flex items-center justify-between border max-w-80 rounded-md p-2",children:[e.jsxs("div",{className:"flex justify-center items-center w-14 h-14 bg-gray-100 rounded-md",children:[e.jsx(S,{className:`text-primary ${x?"hidden":""}`,size:24}),e.jsx("img",{className:"rounded-md",src:x,alt:""})]}),e.jsx("label",{htmlFor:"image",className:"bg-primary py-2 px-4 rounded-md cursor-pointer text-white text-xs",children:"Pilih Foto"}),e.jsx(c,{id:"image",type:"file",name:"image",className:"hidden text-xs p-3 bg-gray-100 w-40",onChange:a=>r(a,s=>m("image",s))})]}),e.jsx(l,{message:t.image,className:""})]}),e.jsxs("div",{className:"flex w-1/2",children:[e.jsx(h,{isLoading:b,className:"px-4 flex-auto",onSave:v}),e.jsx(T,{onClick:()=>history.back(),className:"px-4 flex-auto bg-gray-400 text-black",children:"Cancel"})]})]})]})]})}export{ie as default};
