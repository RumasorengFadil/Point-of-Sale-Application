import{W as k,j as e,Y as F}from"./app-WCegPq-r.js";import{T as x}from"./SectionTitle-Bf7PgjEV.js";import{P as N}from"./ProductActionSection-CC3G3fqC.js";import{F as m}from"./FormField-gF8MmmN8.js";import{F as C,a as u,b as y}from"./FormSelectField-8fD2_UQT.js";import{P as S}from"./PrimaryButton-DC6gsTU9.js";import{w}from"./WithLoading-CPTnSGFv.js";import{t as I}from"./toTitleCase-Br9ZpEl_.js";import{S as T}from"./SpinnerWithLabel-DghH9ctE.js";import{u as L,F as D}from"./useImagePreview-COZi4sxI.js";import{t as d}from"./toastUtils-D7enpiOb.js";import{f as H}from"./formatNumberWithDots-Do-x_jmg.js";import{c as J}from"./convertToNumber-C9xeMRjC.js";import{P as M}from"./POSLayout-_4WEuDpn.js";import"./ActionLinkCard-DI3UEWn-.js";import"./Card-ZQNOarfO.js";import"./IconFigure-CtvapJBh.js";import"./NavigationMenu-D4_0PY_O.js";import"./UserAvatarOrganism-DkGgSSY9.js";import"./react-CAgJOoTK.js";import"./iconBase-NRzPwxTJ.js";import"./index-223J7_Ns.js";import"./index-BbTsefQK.js";import"./InputError-BPGZaYNE.js";import"./InputLabel-CF_CnJtm.js";import"./TextInput-DavlLJrx.js";import"./index-DQXFOoLp.js";import"./react-toastify.esm-BfxcDOty.js";import"./Overlay-n5iZFiNq.js";import"./index-Ds-Cy430.js";import"./LabelWithIcon-DX8VBa1R.js";import"./index-DVWNS8k7.js";import"./index-_5RoFWyK.js";import"./index-C6AjorAK.js";function W({categories:p}){const{imagePreview:n,handleFileChange:l,setImagePreview:c}=L(),{post:g,data:t,setData:s,errors:o,reset:h,processing:f}=k({name:"",categoryId:"",price:"",discount:0,stock:0,image:""}),i=a=>{s(r=>({...r,[a.target.name]:a.target.value}))},b=a=>{a.target.value===""&&s("price","");const r=J(a.target.value);r.toString().length>8||r&&s(P=>({...P,[a.target.name]:r}))},j=a=>{a.preventDefault(),g(route("product.store"),{onSuccess:r=>{d.showSuccess(r.props.flash),c(""),h()},onError:r=>{d.showError(r)}})},v=w({SpinnerWithLabel:T})(D);return e.jsxs("div",{className:"flex flex-col space-y-4",children:[e.jsx(x,{boldText:"Tambah",subtitle:"Produk"}),e.jsx(m,{onChange:i,name:"name",label:"Nama Produk*",type:"text",placeholder:"Masukan Nama Produk",value:t.name,error:o.name,className:"px-4"}),e.jsxs(C,{onChange:i,name:"categoryId",label:"Kategori*",value:t.categoryId,error:o.categoryId,className:"px-4",children:[e.jsx(u,{label:"Pilih"}),p.map((a,r)=>e.jsx(u,{value:a.id,label:I(a.category_name)},r))]}),e.jsx(m,{onChange:b,name:"price",label:"Harga Jual (Rp)*",placeholder:"Masukan Harga Jual",type:"text",value:H(t.price),error:o.price,className:"px-4"}),e.jsx(m,{onChange:i,name:"discount",label:"Diskon (%)*",placeholder:"Masukan Harga Jual",type:"number",value:t.discount,error:o.discount,className:"px-4"}),e.jsx(m,{onChange:i,name:"stock",label:"Stok*",placeholder:"Masukan Harga Jual",type:"number",value:t.stock,error:o.stock,className:"px-4"}),e.jsx(y,{onChange:a=>l(a,r=>s("image",r)),label:"Pilih Foto",className:"px-4",imagePreview:n}),e.jsxs("div",{className:"flex px-4 w-1/2 space-x-4",children:[e.jsx(v,{isLoading:f,className:"flex-auto",onSave:j}),e.jsx(S,{onClick:()=>history.back(),className:"flex-auto bg-gray-400 text-black",children:"Batal"})]})]})}function fe({auth:p,categories:n}){const l=e.jsx(e.Fragment,{children:e.jsx(F,{title:"Produk"})}),c=e.jsxs(e.Fragment,{children:[e.jsx(x,{boldText:"Inventaris"}),e.jsx(N,{}),e.jsx(W,{routeName:"product.store",categories:n})]});return e.jsx(M,{header:l,content:c,contentClassName:"bg-white py-4",direction:"col-reverse",withContainerSpace:!1})}export{fe as default};
