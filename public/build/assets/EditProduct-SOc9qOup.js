import{W as v,j as e,Y as F}from"./app-B7SxprLF.js";import{P}from"./POSLayout-DGgHwf6_.js";import{F as m}from"./FormField-DankZAgs.js";import{F as y,a as d,b as N}from"./FormSelectField-DLa8G0sn.js";import{P as C}from"./PrimaryButton-B4RXdfLj.js";import{T as S}from"./SectionTitle-Cz98HnUc.js";import{w}from"./WithLoading-DSeaCOvd.js";import{t as E}from"./toTitleCase-Br9ZpEl_.js";import{S as I}from"./SpinnerWithLabel-bRM4j4-y.js";import{u as L,F as T}from"./useImagePreview-pdw05o7c.js";import{t as g}from"./toastUtils-Dtz7dZ3P.js";import{f as D}from"./formatNumberWithDots-Do-x_jmg.js";import{c as H}from"./convertToNumber-C9xeMRjC.js";import"./NavigationMenu-B-C-s5EN.js";import"./UserAvatarOrganism-O3UX8H0m.js";import"./react-DjoW1Oqr.js";import"./iconBase-BHQ6cOjm.js";import"./index-N45ZabvB.js";import"./index-C0eVU5xx.js";import"./Overlay-CjjbjiTa.js";import"./index-Dp-fI9oo.js";import"./LabelWithIcon-BWdxhlTa.js";import"./index-BBhF1Fdh.js";import"./index-CRCyVJdU.js";import"./index-CI27lm1R.js";import"./react-toastify.esm-Bb_EJ8K8.js";import"./InputError-q_pW-SHv.js";import"./InputLabel-BXJ7Z41t.js";import"./TextInput-D91WzOl8.js";import"./index-CvEgJCwZ.js";function J({categories:u,product:t}){const{imagePreview:l,handleFileChange:c,setImagePreview:p}=L(),{post:x,data:o,setData:i,errors:s,reset:M,processing:h}=v({name:t.name,categoryId:t.category.id,price:t.price,discount:t.discount,stock:t.stock,image:null}),n=a=>{i(r=>({...r,[a.target.name]:a.target.value}))},f=a=>{a.target.value===""&&i("price","");const r=H(a.target.value);r.toString().length>8||r&&i(k=>({...k,[a.target.name]:r}))},b=a=>{a.preventDefault(),x(route("product.update",t.id),{onSuccess:r=>{g.showSuccess(r.props.flash),p("")},onError:r=>{g.showError(r)}})},j=w({SpinnerWithLabel:I})(T);return e.jsxs("div",{className:"flex flex-col space-y-4",children:[e.jsx(S,{boldText:"Edit",subtitle:"Produk"}),e.jsx(m,{onChange:n,name:"name",label:"Nama Produk",type:"text",placeholder:"Masukan Nama Produk",value:o.name,error:s.name,className:"px-4"}),e.jsxs(y,{onChange:n,name:"categoryId",label:"Kategori",value:o.categoryId,error:s.categoryId,className:"px-4",children:[e.jsx(d,{label:"Pilih"}),u.map((a,r)=>e.jsx(d,{value:a.id,label:E(a.category_name)},r))]}),e.jsx(m,{onChange:f,name:"price",label:"Harga Jual (Rp)*",placeholder:"Masukan Harga Jual",type:"text",value:D(o.price),error:s.price,className:"px-4"}),e.jsx(m,{onChange:n,name:"discount",label:"Diskon (%)*",placeholder:"Masukan Harga Jual",type:"number",value:o.discount,error:s.discount,className:"px-4"}),e.jsx(m,{onChange:n,name:"stock",label:"Stok*",placeholder:"Masukan Harga Jual",type:"number",value:o.stock,error:s.stock,className:"px-4"}),e.jsx(N,{onChange:a=>c(a,r=>i("image",r)),label:"Pilih Foto",className:"px-4",imagePreview:l}),e.jsxs("div",{className:"flex px-4 w-1/2 space-x-4",children:[e.jsx(j,{isLoading:h,className:"flex-auto",onSave:b}),e.jsx(C,{onClick:()=>history.back(),className:"flex-auto bg-gray-400 text-black",children:"Cancel"})]})]})}function de({auth:u,product:t,categories:l}){const c=e.jsx(e.Fragment,{children:e.jsx(F,{title:"Edit Produk"})}),p=e.jsx(e.Fragment,{children:e.jsx(J,{categories:l,product:t})});return e.jsx(P,{header:c,content:p,contentClassName:"bg-white py-4",direction:"col-reverse",withContainerSpace:!1})}export{de as default};
