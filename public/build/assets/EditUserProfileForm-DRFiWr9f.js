import{j as e,W as g}from"./app-ApmZJA6T.js";import{t as w}from"./toTitleCase-Br9ZpEl_.js";import{U as j}from"./index-dxmqAMq_.js";import{u as N,F as b}from"./useImagePreview-BuLTuRNT.js";import{w as v}from"./WithLoading-Cykf3tBp.js";import{S as y}from"./SpinnerWithLabel-BMY7Xu_w.js";import{t as i}from"./toastUtils-BsQoU_eu.js";import{F as m}from"./FormField-CyJBThLo.js";function F({className:a="",onChange:r}){return e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{type:"submit",htmlFor:"file-upload",className:"px-6 w-max cursor-pointer rounded py-3 bg-gray-300 text-gray-800 text-sm "+a,children:"Pilih"}),e.jsx("input",{id:"file-upload",type:"file",className:"hidden",onChange:r})]})}const P=({handleChange:a,data:r,errors:o})=>e.jsxs(e.Fragment,{children:[e.jsx(m,{onChange:a,name:"realName",label:"Nama Asli*",type:"text",placeholder:"Nama Asli",value:r.realName,error:o.realName}),e.jsx(m,{onChange:a,name:"username",label:"Username*",type:"text",placeholder:"Username",value:r.username,error:o.username}),e.jsx(m,{onChange:a,name:"phoneNumber",label:"No Telp*",type:"text",placeholder:"No Telp",value:r.phoneNumber,error:o.phoneNumber}),e.jsx(m,{onChange:a,name:"email",label:"Email*",type:"email",placeholder:"Email",value:r.email,error:o.email}),e.jsx(m,{onChange:a,name:"password",label:"Ganti Password",type:"password",placeholder:"Ganti Password"}),e.jsx(m,{onChange:a,name:"confirmPassword",label:"Konfirmasi Password",type:"password",placeholder:"Konfirmasi Password"})]}),_=({user:a,routeName:r})=>{const{setData:o,data:t,post:n,processing:p,errors:c}=g({realName:a.real_name,username:a.username,phoneNumber:a.phone_number,email:a.email,password:"",confirmPassword:"",image:""}),d=v({SpinnerWithLabel:y})(b),{imagePreview:u,handleFileChange:x}=N(a.image?`/storage/uploads/user/img/${a.image}`:""),f=l=>{l.preventDefault(),n(route(r),{onSuccess:s=>{i.showSuccess(s.props.flash)},onError:s=>{i.showError(s)}})},h=l=>{o(s=>({...s,[l.target.name]:l.target.value}))};return e.jsx("div",{className:"flex w-full flex-col bg-white lg:py-4 lg:overflow-auto rounded",children:e.jsxs("div",{className:"flex flex-col px-4 space-y-5",children:[e.jsx(P,{data:t,errors:c,handleChange:h}),e.jsx(j,{avatar:u,name:w(a.real_name),description:e.jsx(F,{onChange:l=>x(l,s=>o("image",s)),className:"w-full"})}),e.jsx(d,{isLoading:p,onSave:f})]})})};export{_ as E};
