import{j as e,W as j,Y as g}from"./app-BoPzKC54.js";import{S as D}from"./StatsOverview-Bpro0LHG.js";import{C as v,a as w,b,B as y,p as N,c as S,d as Y,f as M,I as k}from"./index-DCQ7IbbT.js";import{f as x}from"./formatNumberWithDots-Do-x_jmg.js";import{b as h}from"./index-BMU_IBb0.js";import{c as F}from"./index-CDlTl45Y.js";import{C as _}from"./Card-DBGM5n3T.js";import{P as O}from"./POSLayout-ttlbu0dr.js";import"./index-CxOkElAx.js";import"./iconBase-C5cuJnph.js";import"./StatCard-CUYugDsW.js";import"./IconFigure-ZrmWH6Y6.js";import"./NavigationMenu-DWN7aZ-4.js";import"./UserAvatarOrganism-Dk9wLZB_.js";import"./react-Cwdn1yWr.js";import"./index-a8C5nkuq.js";import"./Overlay-Cd-MFwC1.js";import"./index-BO5wcfWG.js";import"./LabelWithIcon-Da2DTKbn.js";import"./index-DYWxtaEQ.js";import"./index-C0Ba4Ahc.js";import"./react-toastify.esm-XthdQavn.js";function C({analytics:t}){const{totalByCategory:a}=t;return e.jsx("div",{className:"p-4 overflow-y-auto",children:e.jsxs("div",{className:"flex flex-col w-full h-full overflow-y-auto space-y-5 p-4 rounded shadow-lg bg-white",children:[e.jsx("p",{className:"font-bold",children:"Produk Yang Terjual"}),e.jsxs("div",{className:"flex w-full h-8",children:[e.jsx("div",{className:"flex w-full h-max font-bold",children:"Item"}),e.jsx("div",{className:"flex w-full h-max font-bold",children:"Terjual (Qty)"}),e.jsx("div",{className:"flex w-full h-max font-bold",children:"Pendapatan (Rp)"})]}),a==null?void 0:a.map((s,r)=>e.jsxs("div",{className:"flex flex-col space-y-5",children:[e.jsxs("div",{className:"flex flex-auto h-max justify-center items-center",children:[e.jsxs("div",{className:"flex items-center space-x-2 w-full h-max",children:[e.jsx(h,{size:24}),e.jsx("p",{children:s.category_name})]}),e.jsx("div",{className:"flex w-full h-max",children:x(s.total_product_sold)}),e.jsx("div",{className:"flex w-full h-max",children:x(s.total_revenue)})]}),e.jsx("hr",{})]},r))]})})}v.register(w,b,y,N,S,Y);const f=({salesSummary:t={}})=>{const a={labels:t.product_name,datasets:[{label:t.category_name,data:t.total_product_sold,backgroundColor:"#1A72DD",borderColor:"rgba(75, 192, 192, 1)",borderWidth:1}]},s={responsive:!0,plugins:{legend:{display:!0,position:"top"},title:{text:"Monthly Revenue"}},scales:{y:{beginAtZero:!0}}};return e.jsx("div",{children:e.jsx(M,{data:a,options:s})})},B=()=>{const t=new Date,a=m=>m.toISOString().split("T")[0],s=new Date(t);s.setDate(t.getDate()-t.getDay());const r=new Date(t);r.setDate(t.getDate()+(6-t.getDay()));const l=new Date(t.getFullYear(),t.getMonth(),1),i=new Date(t.getFullYear(),t.getMonth()+1,0),c=new Date(t.getFullYear(),0,1),d=new Date(t.getFullYear(),11,31);return{thisWeek:{startDate:a(s),endDate:a(r)},thisMonth:{startDate:a(l),endDate:a(i)},thisYear:{startDate:a(c),endDate:a(d)}}},I=({analytics:t={},filterParams:a={}})=>{const{thisMonth:s,thisYear:r}=B(),{type:l}=a,{get:i}=j(),c=(o,n)=>{o.preventDefault(),i(route("pos-dashboard.filter",n))},d=[{label:"Semua",params:{startDate:"",endDate:"",type:"default"},active:l==="default"||!l},{label:"Bulan Ini",params:{startDate:s.startDate,endDate:s.endDate,type:"thisMonth"},active:l==="thisMonth"},{label:"Tahun Ini",params:{startDate:r.startDate,endDate:r.endDate,type:"thisYear"},active:l==="thisYear"}],m=({label:o,params:n,active:p})=>e.jsx(_,{onClick:u=>c(u,n),className:`flex-1 text-xs cursor-pointer text-gray-800 px-3 py-2 items-center justify-center ${p?"bg-gray-800 text-white":""}`,children:o});return e.jsxs("div",{className:"flex overflow-auto gap-8 flex-col px-4 items-start w-80 max-h-screen bg-white",children:[e.jsx("div",{className:"flex w-full justify-between",children:e.jsxs("h1",{children:[e.jsx("span",{className:"font-bold",children:"Statistik"})," Keseluruhan"]})}),e.jsx("div",{className:"flex gap-3 w-full",children:d.map((o,n)=>e.jsx(m,{...o},n))}),e.jsxs("div",{className:"flex flex-col gap-8 w-full",children:[e.jsxs("div",{className:"flex w-full gap-3",children:[e.jsx(h,{size:20}),e.jsx("h1",{children:"Makanan"})]}),e.jsx(f,{salesSummary:t.foodSalesSummary})]}),e.jsxs("div",{className:"flex flex-col gap-8 w-full",children:[e.jsxs("div",{className:"flex w-full gap-3",children:[e.jsx(F,{size:20}),e.jsx("h1",{children:"Minuman"})]}),e.jsx(f,{salesSummary:t.drinkSalesSummary})]})]})};function se({analytics:t,filterParams:a}){const s=e.jsx(e.Fragment,{children:e.jsx(g,{title:"Dashboard"})}),r=e.jsxs(e.Fragment,{children:[e.jsx(k,{}),e.jsx(D,{analytics:t}),e.jsx(C,{analytics:t})]}),l=e.jsx(e.Fragment,{children:e.jsx(I,{analytics:t,filterParams:a})});return e.jsx(O,{header:s,content:r,footer:l,footerClassName:"hidden lg:flex",direction:"col-reverse"})}export{se as default};
