import{W as _,j as e}from"./app-DIpjq8Yn.js";import{u as T,F as I}from"./useImagePreview-CjMJm0fu.js";import{F as g}from"./FormField-BpblUqOD.js";import{F as b,a as p,b as w}from"./FormSelectField-CpuOYwHT.js";import{P}from"./PrimaryButton-BsXnd5m1.js";import{T as S}from"./SectionTitle-qyS1_owL.js";import{S as D}from"./SpinnerWithLabel-DxUmMDbQ.js";import{w as A}from"./WithLoading-Bc4B7LsC.js";import{c as L}from"./convertToNumber-C9xeMRjC.js";import{f as W}from"./formatNumberWithDots-Do-x_jmg.js";import{t as f}from"./toastUtils-Qg7GtzrJ.js";import{t as y}from"./toTitleCase-Br9ZpEl_.js";const B=(r,i)=>({data:r,setData:i,handleChange:a=>{i(o=>({...o,[a.target.name]:a.target.value}))},handleNumberChange:(a,o)=>{const l=L(a.target.value);/^\d*$/.test(l)&&(l.toString().length>o||i(d=>({...d,[a.target.name]:l})))}});function O(r){if(!r||typeof r!="object")throw new Error("Parameter harus berupa objek yang valid");return Object.keys(r).length===0}function X({journalCategories:r,journalTypes:i,routeName:u="",formTitle:h="",journalEntry:a={}}){const{imagePreview:o,handleFileChange:l,setImagePreview:d}=T(),{post:v,processing:C,data:s,setData:x,errors:m,reset:N}=_({categoryId:a.category_id||"",typeId:a.type_id||"",inputDate:a.input_date||"",nominal:a.nominal??"",description:a.description||"",evidence:""}),{handleChange:c,handleNumberChange:j}=B(s,x),k=A({SpinnerWithLabel:D})(I),F=t=>{t.preventDefault(),v(route(u,a.id||""),{onSuccess:n=>{f.showSuccess(n.props.flash),O(a)&&(N(),d(""))},onError:n=>{f.showError(n)}})};return e.jsxs("div",{className:"flex flex-col space-y-4",children:[e.jsx(S,{boldText:h,subtitle:"Kas"}),e.jsxs(b,{onChange:c,name:"typeId",label:"Jenis Transaksi*",value:s.typeId,error:m.typeId,className:"px-4",children:[e.jsx(p,{value:"",label:"Pilih"}),i.map((t,n)=>e.jsx(p,{value:t.id,label:y(t.type_name)},n))]}),e.jsxs(b,{onChange:c,name:"categoryId",label:"Kategori Transaksi*",value:s.categoryId,error:m.categoryId,className:"px-4",children:[e.jsx(p,{value:"",label:"Pilih"}),r.map((t,n)=>e.jsx(p,{value:t.id,label:y(t.category_name)},n))]}),e.jsx(g,{onChange:c,name:"inputDate",label:"Tanggal Transaksi*",type:"date",value:s.inputDate,error:m.inputDate,className:"px-4"}),e.jsx(g,{onChange:t=>j(t,11),label:"Nominal*",type:"text",name:"nominal",value:W(s.nominal),error:m.nominal,className:"px-4"}),e.jsx(g,{onChange:c,name:"description",placeholder:"exp : Pembelian bahan baku",label:"Deskripsi Transaksi*",type:"text",value:s.description,error:m.description,className:"px-4"}),e.jsx(w,{onChange:t=>l(t,n=>x("evidence",n)),label:"Bukti Transaksi",className:"px-4",imagePreview:o}),e.jsxs("div",{className:"flex px-4 w-1/2 space-x-4",children:[e.jsx(k,{isLoading:C,className:"flex-auto",onSave:F}),e.jsx(P,{onClick:()=>history.back(),className:"flex-auto bg-gray-400 text-black",children:"Batal"})]})]})}const Y=[{category_name:"penjualan",description:""},{category_name:"Pembelian bahan baku",description:""},{category_name:"operasional",description:""},{category_name:"sumber daya manusia",description:""},{category_name:"promosi/pemasaran",description:""},{category_name:"pemeliharaan",description:""},{category_name:"administrasi",description:""},{category_name:"lain-lain",description:""}],Z=[{type_name:"pemasukan",description:""},{type_name:"pengeluaran",description:""}];export{X as A,Z as a,Y as j};
